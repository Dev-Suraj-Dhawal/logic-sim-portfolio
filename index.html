<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>LogicBench | Digital Logic Workbench</title>

  <!-- Industry-ready favicon -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' x2='1'%3E%3Cstop stop-color='%234ea3ff'/%3E%3Cstop offset='1' stop-color='%23007acc'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='160' height='160' rx='26' fill='url(%23g)'/%3E%3Cpath d='M34 44h60v40H34z' fill='white' opacity='.92'/%3E%3Cpath d='M28 54h10M28 74h10M90 54h10M90 74h10' stroke='white' stroke-width='8' stroke-linecap='round'/%3E%3Cpath d='M44 64h40' stroke='%23007acc' stroke-width='8' stroke-linecap='round'/%3E%3C/svg%3E" />

  <link rel="stylesheet" href="beauty.css" />
</head>

<body>
  <div class="app" id="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand__mark" aria-hidden="true">
          <svg viewBox="0 0 64 64" width="40" height="40">
            <defs>
              <linearGradient id="lb" x1="0" x2="1">
                <stop stop-color="#4ea3ff"/>
                <stop offset="1" stop-color="#007acc"/>
              </linearGradient>
            </defs>
            <rect x="4" y="4" width="56" height="56" rx="16" fill="url(#lb)"/>
            <path d="M18 22h28v20H18z" fill="rgba(255,255,255,.92)"/>
            <path d="M14 28h6M14 36h6M44 28h6M44 36h6" stroke="white" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="brand__text">
          <div class="brand__title">LogicBench</div>
          <div class="brand__subtitle">Build • Simulate • Learn</div>
        </div>
      </div>

      <div class="topbar__actions">
        <button class="btn btn--ghost" id="btn-handbook" title="Open handbook">Handbook</button>
        <button class="btn btn--ghost" id="btn-help" title="Shortcuts / Help">Shortcuts</button>
        <button class="btn btn--danger" id="btn-clear" title="Clear workspace">Clear</button>
      </div>
    </header>

    <div class="layout">
      <aside class="sidebar" id="sidebar" aria-label="Component library">
        <div class="sidebar__header">
          <div class="sidebar__title">Library</div>
          <button class="iconbtn sidebar__close" id="btn-sidebar-close" title="Close">✕</button>
        </div>

        <div class="sidebar__section">
          <div class="sidebar__sectionTitle">Inputs</div>

          <div class="tool" draggable="true" data-type="SWITCH" data-variant="toggle">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <rect x="4" y="10" width="56" height="20" rx="10" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
                <circle cx="20" cy="20" r="8" fill="rgba(255,255,255,.35)"/>
              </svg>
            </span>
            <span class="tool__label">Switch (Toggle)</span>
          </div>

          <div class="tool" draggable="true" data-type="SWITCH" data-variant="push">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <rect x="6" y="6" width="52" height="28" rx="10" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
                <circle cx="32" cy="18" r="9" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">Switch (Push)</span>
          </div>

          <div class="tool" draggable="true" data-type="SWITCH" data-variant="rocker">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <rect x="8" y="8" width="48" height="24" rx="10" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
                <rect x="18" y="12" width="28" height="16" rx="6" fill="rgba(78,163,255,.25)" stroke="rgba(255,255,255,.35)" stroke-width="2" transform="skewX(-10) translate(4,0)"/>
              </svg>
            </span>
            <span class="tool__label">Switch (Rocker)</span>
          </div>
        </div>

        <div class="sidebar__section">
          <div class="sidebar__sectionTitle">Outputs</div>

          <div class="tool" draggable="true" data-type="BULB" data-variant="classic">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <circle cx="32" cy="18" r="11" fill="rgba(255,209,102,.20)" stroke="rgba(255,209,102,.85)" stroke-width="2"/>
                <path d="M26 24c2-4 10-4 12 0" stroke="rgba(255,255,255,.55)" stroke-width="2" fill="none"/>
              </svg>
            </span>
            <span class="tool__label">Bulb (Classic)</span>
          </div>

          <div class="tool" draggable="true" data-type="BULB" data-variant="led">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M20 26a12 12 0 0 1 24 0v4H20z" fill="rgba(255,77,109,.18)" stroke="rgba(255,77,109,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">Bulb (LED)</span>
          </div>

          <div class="tool" draggable="true" data-type="BULB" data-variant="neon">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <rect x="14" y="14" width="36" height="12" rx="6" fill="rgba(78,255,255,.15)" stroke="rgba(78,255,255,.65)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">Bulb (Neon)</span>
          </div>

          <div class="tool" draggable="true" data-type="BULB" data-variant="traffic">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <rect x="24" y="8" width="16" height="24" rx="6" fill="rgba(0,0,0,.35)" stroke="rgba(255,255,255,.25)" stroke-width="2"/>
                <circle cx="32" cy="20" r="6" fill="rgba(51,209,122,.20)" stroke="rgba(51,209,122,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">Bulb (Signal)</span>
          </div>
        </div>

        <div class="sidebar__section">
          <div class="sidebar__sectionTitle">Logic gates</div>

          <!-- Gate icons use SVG so nothing gets clipped/half-visible -->
          <div class="tool" draggable="true" data-type="NOT" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M16 8 L44 20 L16 32 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
                <circle cx="48" cy="20" r="3.5" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">NOT</span>
          </div>

          <div class="tool" draggable="true" data-type="AND" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M16 8 H30 A12 12 0 0 1 30 32 H16 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">AND</span>
          </div>

          <div class="tool" draggable="true" data-type="OR" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M18 8 Q40 8 48 20 Q40 32 18 32 Q26 20 18 8 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">OR</span>
          </div>

          <div class="tool" draggable="true" data-type="NAND" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M16 8 H30 A12 12 0 0 1 30 32 H16 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
                <circle cx="46" cy="20" r="3.5" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">NAND</span>
          </div>

          <div class="tool" draggable="true" data-type="NOR" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M18 8 Q40 8 48 20 Q40 32 18 32 Q26 20 18 8 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
                <circle cx="52" cy="20" r="3.5" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">NOR</span>
          </div>

          <div class="tool" draggable="true" data-type="XOR" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M14 8 Q22 20 14 32" fill="none" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
                <path d="M18 8 Q40 8 48 20 Q40 32 18 32 Q26 20 18 8 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">XOR</span>
          </div>

          <div class="tool" draggable="true" data-type="XNOR" data-variant="default">
            <span class="tool__icon">
              <svg class="miniSvg" viewBox="0 0 64 40">
                <path d="M14 8 Q22 20 14 32" fill="none" stroke="rgba(255,255,255,.55)" stroke-width="2"/>
                <path d="M18 8 Q40 8 48 20 Q40 32 18 32 Q26 20 18 8 Z" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
                <circle cx="52" cy="20" r="3.5" fill="none" stroke="rgba(255,255,255,.75)" stroke-width="2"/>
              </svg>
            </span>
            <span class="tool__label">XNOR</span>
          </div>

          <div class="sidebar__hint">
            <div class="sidebar__hintTitle">Shortcuts</div>
            <ul>
              <li><span class="kbd">Del</span> / <span class="kbd">Backspace</span>: delete selected item</li>
              <li><span class="kbd">Esc</span>: cancel wiring</li>
              <li>Right‑click a wire: delete wire</li>
            </ul>
          </div>
        </div>
      </aside>

      <main class="stage" aria-label="Circuit board">
        <div class="stage__chrome">
          <button class="iconbtn" id="btn-sidebar-open" title="Open library">☰</button>
          <div class="stage__status" id="status">Ready</div>
          <div class="stage__spacer"></div>
          <div class="stage__kbd">
            <span class="kbd">Del</span> delete • <span class="kbd">Esc</span> cancel wire • drag from Library
          </div>
        </div>

        <div class="canvasWrap" id="canvasWrap">
          <div class="dropHint" id="dropHint">Drop here</div>
          <canvas id="board"></canvas>
          <div class="toast" id="toast" aria-live="polite"></div>
        </div>
      </main>
    </div>
  </div>

  <!-- Handbook modal -->
  <div class="modal hidden" id="modal-handbook" role="dialog" aria-modal="true" aria-label="Logic gates handbook">
    <div class="modal__panel">
      <div class="modal__top">
        <div class="modal__title">Handbook: Logic Gates</div>
        <div class="modal__actions">
          <a class="link" href="https://www.geeksforgeeks.org/digital-logic/logic-gates/" target="_blank" rel="noreferrer">
            Reference (GfG)
          </a>
          <button class="iconbtn" id="btn-handbook-close" title="Close">✕</button>
        </div>
      </div>

      <div class="modal__body">
        <div class="handbook">
          <aside class="handbook__nav" id="hb-nav" aria-label="Handbook navigation"></aside>
          <section class="handbook__content" id="hb-content" aria-label="Handbook content"></section>
        </div>
      </div>
    </div>
  </div>

  <!-- Shortcuts modal -->
  <div class="modal hidden" id="modal-help" role="dialog" aria-modal="true" aria-label="Shortcuts">
    <div class="modal__panel modal__panel--small">
      <div class="modal__top">
        <div class="modal__title">Shortcuts & Controls</div>
        <button class="iconbtn" id="btn-help-close" title="Close">✕</button>
      </div>
      <div class="modal__bodyPad">
        <div class="helpGrid">
          <div class="helpCard">
            <div class="helpTitle">Connect wires</div>
            <div class="helpText">Click an output node, then click an input node.</div>
          </div>
          <div class="helpCard">
            <div class="helpTitle">Disconnect / rewire</div>
            <div class="helpText">Click an input that already has a wire and drag to a new input; drop empty to remove.</div>
          </div>
          <div class="helpCard">
            <div class="helpTitle">Delete</div>
            <div class="helpText"><span class="kbd">Del</span> or <span class="kbd">Backspace</span> deletes the selected wire or component.</div>
          </div>
          <div class="helpCard">
            <div class="helpTitle">Cancel</div>
            <div class="helpText"><span class="kbd">Esc</span> cancels wiring.</div>
          </div>
          <div class="helpCard">
            <div class="helpTitle">Drag & Drop</div>
            <div class="helpText">Drag items from the Library and drop on the board. [web:73]</div>
          </div>
          <div class="helpCard">
            <div class="helpTitle">Switch</div>
            <div class="helpText">Click a switch to toggle ON/OFF.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="Brain/logic.js"></script>
</body>
</html>
